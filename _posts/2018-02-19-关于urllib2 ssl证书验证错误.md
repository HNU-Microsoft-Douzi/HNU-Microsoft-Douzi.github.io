---
layout: blog-page
data: 2018-02-19
title: "关于urllib2 ssl证书验证错误"
tags: 爬虫
---
<p>而当目标网站使用的是自签名的证书时就会抛出一个 <span style="color:blue">urllib2.URLError: <\urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:581)></span>的错误消息。</p>
<br>
<p><b>下面给出解决方案：</b></p>
<br>
<p>使用ssl创建未经验证的上下文，在urlopen中传入上下文参数</p>
{% highlight linenos%}
import ssl

context = ssl._create_unverified_context()
print urllib2.urlopen("https://www.12306.cn/mormhweb/", context=context).read()
{% endhighlight %}
<br>
<p><b>全局取消证书验证</b></p>
{% highlight linenos%}
import ssl
 
ssl._create_default_https_context = ssl._create_unverified_context()
 
print urllib2.urlopen("https://www.12306.cn/mormhweb/").read()
{% endhighlight %}
