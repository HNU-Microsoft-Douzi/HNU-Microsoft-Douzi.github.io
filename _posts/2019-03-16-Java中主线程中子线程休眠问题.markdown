---
title: "Java中主线程中子线程休眠问题"
subtitle: "The question of child thread sleep in main thread."
layout: post
data: 2019-03-16
author: "Zxy"
tags:
    - java
---

> 版权声明：转载请注明博客地址和作者名称

腾讯一面的时候遇到一个问题，面试官给了一个场景，让分析哪个线程会出现问题？

**场景概要：**

现在有一个线程A，和一个继承于它的子线程B，我们在main()方法中，声明一个子线程的对象，然后调用子线程的sleep()方法，休眠的是哪个线程？注意，这里子线程并没有使用start()开启异步。

昨天写了个demo验证了一下，最后发现main()方法中子线程休眠的下一句过了几秒（休眠时间）才执行的。

这说明休眠的既不是子线程也不是父线程，而是主线程。

我昨天甚至今天早上也没有想明白，网上都没有给出一个案例情况来分析。

刚仔细想了一下终于知道了答案。

**问题解决：**

答案其实很简单，因为子线程没有调用start()，所以它没有开启异步，所以现在子线程是一个同步的过程，在同步的基础下让它进行了一个休眠，因为是同步，所以既不会是父线程休眠也不会是子线程休眠，休眠的是主线程！！！

昨天面试官实际上提示到了start()和run()的区别，一时之间没有反应过来，流程的分析其实只要抓住一个同步异步就ok了。